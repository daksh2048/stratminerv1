engine:
  timeframes: ["5m"]
  period: "10y"
  symbols: ["TNA","TZA","DFEN","TECL","TECS","SOXL","SOXS","CURE","LABD","WANT","RETL","NAIL","DPST","FAZ","ERX","DRIP","DUST","JDST","BOIL","KOLD","UGL","UCO","SCO"]
  exchange: "alpaca"

  paper_balance: 10000.0
  risk_per_trade: 0.005
  slippage_bps: 1.5
  max_loss_pct: 0.50

  # optional: leave this alone unless you want fewer "early bars" trades
  warmup_bars: 80

  # run these 3
  strategies_to_run: ["orb"]

logging:
  out_dir: "backtests"

strategies:
  swing_bos:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    min_minutes_after_open: 60
    entry_cutoff_minutes: 240
    max_trades_per_day: 3
    exchange: "alpaca"
    htf_timeframe: 1d
    htf_period: "5y"
    htf_ema_period: 20
    swing_window: 5
    atr_period: 14
    stop_atr_mult: 1.0
    min_atr: 0.15
    use_retest: true
    retest_max_bars: 20
    retest_tolerance_atr: 0.5
    use_volume_filter: true
    volume_ema_period: 20
    volume_mult: 1.2
    partial_take_pct: 0.5
    partial_take_rr: 1.5
    risk_reward: 3.0
    runner_take_mode: rr
    max_bars_open: 78
    
    trail_mode: tiered
    trail_activate_after_partial: true
    trail_pct: 0.02
    trail_atr_mult: 2.0
    trail_lookback: 10
    trail_tier1_pct: 0.04
    trail_tier2_pct: 0.02
    trail_tier3_pct: 0.01
    trail_swing_window: 5
    trail_buffer_mult: 0.3
    trail_initial_pct: 0.03
    trail_acceleration: 0.0005
    trail_min_pct: 0.01


  orb:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    opening_range_minutes: 30
    min_minutes_after_or: 0
    max_minutes_after_or: 360
    exchange: "alpaca"
    htf_timeframe: 1h
    htf_period: "5y"
    htf_ema_period: 20
    atr_period: 14
    stop_atr_mult: 1.5
    min_atr: 0.05
    volume_filter: true
    volume_ema_period: 20
    volume_mult: 1.2
    use_retest: false
    retest_max_bars: 20
    retest_tolerance_atr: 0.3
    partial_take_pct: 0.5
    partial_take_rr: 1.5
    risk_reward: 3.0
    trail_mode: tiered
    trail_activate_after_partial: true 
    trail_tier1_pct: 0.04
    trail_tier2_pct: 0.02
    trail_tier3_pct: 0.01
    trail_atr_mult: 2.0
    trail_pct: 0.02
    trail_lookback: 10
    trail_swing_window: 5
    trail_buffer_mult: 0.3
    trail_initial_pct: 0.03
    trail_acceleration: 0.0005
    trail_min_pct: 0.01

  # ========================================
  # VWAP MR - Uses Tiered Trailing
  # ========================================
  vwap_mr:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    atr_period: 14
    band_atr_mult: 1.5
    min_minutes_after_open: 20
    max_minutes_after_open: 180
    rr: 1.5
    stop_atr_mult: 1.0
    reclaim_bars: 3
    reclaim_threshold: 0.66
    max_trades_per_day: 2
    trail_mode: tiered
    trail_tier1_pct: 0.04
    trail_tier2_pct: 0.02
    trail_tier3_pct: 0.01

  # ========================================
  # VWAP TP - Uses Simple Percent Trailing
  # ========================================
  vwap_tp:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    min_minutes_after_open: 15
    entry_cutoff_minutes: 240
    ema_period: 20
    atr_period: 14
    stop_atr_mult: 1.2
    risk_reward: 2.0
    use_trend_filter: false
    ema_slope_min_atr: 0.08
    pullback_bars: 4
    reclaim_threshold: 0.66
    max_trades_per_day: 2
    trail_mode: tiered
    trail_pct: 0.02

logging:
  out_dir: backtests