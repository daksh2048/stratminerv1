engine:
  timeframes: ["5m"]
  period: "5y"
  symbols: ["BOIL", "KOLD", "UCO", "GUSH", "UGL", "GLD", "NUGT", "DUST", "SLV", "TQQQ", "TNA", "UPRO", "UDOW", "TECL", "SOXL", "FAS", "LABU", "RETL", "NAIL", "XLE", "UVXY", "SVXY", "ARKK", "MARA", "SMH"]
  exchange: "alpaca"

  paper_balance: 10000.0
  risk_per_trade: 0.005
  slippage_bps: 1.5
  max_loss_pct: 0.50

  # optional: leave this alone unless you want fewer "early bars" trades
  warmup_bars: 80

  # run these 3
  strategies_to_run: ["bollinger_squeeze","sr_breakout","gap_fill","rsi_mean_reversion","ma_crossover"]

logging:
  out_dir: "backtests"

strategies:
  swing_bos:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    min_minutes_after_open: 60
    entry_cutoff_minutes: 240
    max_trades_per_day: 3
    exchange: "alpaca"
    htf_timeframe: 1d
    htf_period: "5y"
    htf_ema_period: 20
    swing_window: 5
    atr_period: 14
    stop_atr_mult: 1.0
    min_atr: 0.15
    use_retest: true
    retest_max_bars: 20
    retest_tolerance_atr: 0.5
    use_volume_filter: true
    volume_ema_period: 20
    volume_mult: 1.2
    partial_take_pct: 0.5
    partial_take_rr: 1.5
    risk_reward: 3.0
    runner_take_mode: rr
    max_bars_open: 78
    
    trail_mode: tiered
    trail_activate_after_partial: true
    trail_pct: 0.02
    trail_atr_mult: 2.0
    trail_lookback: 10
    trail_tier1_pct: 0.04
    trail_tier2_pct: 0.02
    trail_tier3_pct: 0.01
    trail_swing_window: 5
    trail_buffer_mult: 0.3
    trail_initial_pct: 0.03
    trail_acceleration: 0.0005
    trail_min_pct: 0.01


  orb:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    opening_range_minutes: 30
    min_minutes_after_or: 0
    max_minutes_after_or: 360
    exchange: "alpaca"
    htf_timeframe: 1h
    htf_period: "5y"
    htf_ema_period: 20
    atr_period: 14
    stop_atr_mult: 1.5
    min_atr: 0.05
    volume_filter: true
    volume_ema_period: 20
    volume_mult: 1.2
    use_retest: false
    retest_max_bars: 20
    retest_tolerance_atr: 0.3
    partial_take_pct: 0.5
    partial_take_rr: 1.5
    risk_reward: 3.0
    trail_mode: tiered
    trail_activate_after_partial: true 
    trail_tier1_pct: 0.04
    trail_tier2_pct: 0.02
    trail_tier3_pct: 0.01
    trail_atr_mult: 2.0
    trail_pct: 0.02
    trail_lookback: 10
    trail_swing_window: 5
    trail_buffer_mult: 0.3
    trail_initial_pct: 0.03
    trail_acceleration: 0.0005
    trail_min_pct: 0.01

  vwap_rejection:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    min_minutes_after_open: 30
    max_minutes_after_open: 360
    atr_period: 14
    band_atr_mult: 2.0
    stop_buffer_atr: 0.3
    volume_period: 20
    volume_mult: 2.0
    min_wick_pct: 0.4
    max_trades_per_day: 3
    trail_mode: tiered
    trail_tier1_pct: 0.03
    trail_tier2_pct: 0.02
    trail_tier3_pct: 0.01

  vwap_momentum:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    min_minutes_after_open: 30
    entry_cutoff_minutes: 330
    ema_period: 20
    atr_period: 14
    stop_atr_mult: 1.0
    risk_reward: 2.5
    min_ema_slope_atr: 0.15
    pullback_tolerance_atr: 0.3
    min_continuation_atr: 0.66
    volume_period: 20
    volume_mult: 1.5
    max_trades_per_day: 3
    trail_mode: tiered
    trail_tier1_pct: 0.04
    trail_tier2_pct: 0.02
    trail_tier3_pct: 0.01
  
  gap_fill:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    min_gap_atr: 0.8
    gap_window_minutes: 30
    atr_period: 14
    stop_buffer_atr: 0.5
    volume_period: 20
    volume_mult: 1.2
    max_trades_per_day: 1
    trail_mode: percent
    trail_pct: 0.015

  bollinger_squeeze:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    min_minutes_after_open: 30
    entry_cutoff_minutes: 330
    bb_period: 20
    bb_std_dev: 2.0
    squeeze_lookback: 100
    squeeze_percentile: 20
    min_consolidation_bars: 10
    atr_period: 14
    stop_atr_mult: 1.0
    target_squeeze_mult: 2.0
    volume_period: 20
    volume_mult: 1.5
    min_breakout_strength: 0.6
    max_trades_per_day: 2
    trail_mode: tiered
    trail_tier1_pct: 0.04
    trail_tier2_pct: 0.02
    trail_tier3_pct: 0.01
    trail_atr_mult: 2.0

  ma_crossover:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    min_minutes_after_open: 60
    entry_cutoff_minutes: 330
    fast_period: 20
    slow_period: 50
    htf_timeframe: 1h
    htf_period: "5y"
    htf_ema_period: 20
    atr_period: 14
    stop_atr_mult: 1.5
    risk_reward: 3.0
    pullback_tolerance_atr: 0.5
    min_continuation_pct: 0.5
    volume_period: 20
    volume_mult: 1.2
    max_bars_since_cross: 20
    max_trades_per_day: 2
    trail_mode: tiered
    trail_tier1_pct: 0.04
    trail_tier2_pct: 0.02
    trail_tier3_pct: 0.01
    trail_atr_mult: 2.0

  rsi_mean_reversion:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    min_minutes_after_open: 30
    max_minutes_after_open: 360
    rsi_period: 14
    rsi_oversold: 30
    rsi_overbought: 70
    atr_period: 14
    stop_buffer_atr: 0.5
    min_wick_pct: 0.3
    volume_period: 20
    volume_mult: 1.5
    require_vwap_confirmation: true
    max_trades_per_day: 3
    trail_mode: percent
    trail_pct: 0.015

  sr_breakout:
    market_tz: America/New_York
    rth_open: "09:30"
    rth_close: "16:00"
    min_minutes_after_open: 60
    entry_cutoff_minutes: 330
    level_lookback: 100
    level_tolerance_pct: 0.005
    min_touches: 2
    touch_tolerance_atr: 0.3
    atr_period: 14
    stop_buffer_atr: 0.5
    risk_reward: 3.0
    volume_period: 20
    volume_mult: 1.5
    min_breakout_strength: 0.6
    use_retest: false
    retest_max_bars: 10
    max_trades_per_day: 2
    trail_mode: tiered
    trail_tier1_pct: 0.04
    trail_tier2_pct: 0.02
    trail_tier3_pct: 0.01
    trail_atr_mult: 2.0

logging:
  out_dir: backtests